{"entries":[{"timestamp":1742770518491,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":131,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":1,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":83,"length1":123,"diffs":[[1,"        \"device\": \"*\"\n"]]},{"start1":190,"length1":51,"diffs":[[1,"        \"assets.json\"\n"]]},{"start1":219,"length1":31,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]},{"type":"added","filename":"miniMenuCursor.ts","value":"\n/**\n* Use this file to define custom functions and blocks.\n* Read more at https://arcade.makecode.com/blocks/custom\n*/\n\nenum MyEnum {\n    //% block=\"one\"\n    One,\n    //% block=\"two\"\n    Two\n}\n\n/**\n * Custom blocks\n */\n//% weight=100 color=#0fbc11 icon=\"\"\nnamespace custom {\n    /**\n     * TODO: describe your function here\n     * @param n describe parameter here, eg: 5\n     * @param s describe parameter here, eg: \"Hello\"\n     * @param e describe parameter here\n     */\n    //% block\n    export function foo(n: number, s: string, e: MyEnum): void {\n        // Add code here\n    }\n\n    /**\n     * TODO: describe your function here\n     * @param value describe value here, eg: 5\n     */\n    //% block\n    export function fib(value: number): number {\n        return value <= 1 ? value : fib(value -1) + fib(value - 2);\n    }\n}\n\nbrowserEvents.onMouseMove(function (x, y) {\n    for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n        if (!menu.buttonEventsEnabled) continue\n        if (menu.left > x || menu.right < x) continue\n\n        let menuTop = menu.top\n        if (menu.title != undefined) menuTop += 12\n        if (menu.frame != undefined) menuTop += menu.frame.height / 3\n        let posInMenu = Math.trunc((y - menuTop) / 12)\n\n        if (posInMenu >= 0 && posInMenu < menu.items.length) {\n            menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n            return\n        }\n    }\n})\n\nbrowserEvents.MouseLeft.onEvent(browserEvents.MouseButtonEvent.Pressed, function (x: number, y: number) {\n    for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n        if (!menu.buttonEventsEnabled) continue\n        if (menu.left > x || menu.right < x) continue\n\n        let menuTop = menu.top\n        if (menu.title != undefined) menuTop += 12\n        if (menu.frame != undefined) menuTop += menu.frame.height / 3\n        let posInMenu = Math.trunc((y - menuTop) / 12)\n\n        if (posInMenu >= 0 && posInMenu < menu.items.length) {\n            menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n            controller.A.setPressed(true)\n            controller.A.setPressed(false)\n            return\n        }\n    }\n})\n"}]},{"timestamp":1742771224101,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":2193,"length1":4,"diffs":[[1,""]]}]}]},{"timestamp":1742771365658,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":2193,"length1":121,"diffs":[[1,"mini"]]}]}]},{"timestamp":1742771934768,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":2194,"length1":47,"diffs":[[1,"namespace cursorMenu {extends miniMenu \n"]]},{"start1":2239,"length1":33,"diffs":[[1,"    export function allMenus() {\n        return miniMenu.stateStack\n"]]}]}]},{"timestamp":1742772556397,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":2194,"length1":51,"diffs":[[1,"class cursorMenu extends miniMenu.MenuSprite {\n"]]}]}]},{"timestamp":1742772560160,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":2194,"length1":71,"diffs":[[1,"nameSpace cursorMenu extends miniMenu.MenuSprite {\n    \n    allMenus() {\n        return \n    }\n}"]]}]}]},{"timestamp":1742773181415,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":258,"length1":20,"diffs":[[1,"namespace custom {\n"]]}]}]},{"timestamp":1742773182796,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":133,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>"]]}]},{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":1,"length1":0,"diffs":[[1,"/**\n* Use this file to define custom functions and blocks.\n* Read more at https://arcade.makecode.com/blocks/custom\n*/\n"]]},{"start1":121,"length1":85,"diffs":[[1,"enum MyEnum {\n    //% block=\"one\"\n    One,\n    //% block=\"two\"\n    Two\n}\n\n/**\n * Custom blocks\n */\n//% weight=100 color=#0fbc11 icon=\"\"\n/namespace custom {\n"]]},{"start1":286,"length1":36,"diffs":[[1,"     * TODO: describe your function here\n     * @param n describe parameter here, eg: 5\n     * @param s describe parameter here, eg: \"Hello\"\n     * @param e describe parameter here\n"]]},{"start1":475,"length1":133,"diffs":[[1,"    //% block\n    export function foo(n: number, s: string, e: MyEnum): void {\n        // Add code here\n"]]},{"start1":585,"length1":5,"diffs":[[1,"\n    /**\n     * TODO: describe your function here\n     * @param value describe value here, eg: 5\n     */\n    //% block\n    export function fib(value: number): number {\n        return value <= 1 ? value : fib(value -1) + fib(value - 2);\n    }\n"]]},{"start1":2195,"length1":1,"diffs":[[1,"//% block\nfunction allMenus() {\n    return miniMenu._state().sprites\n}\n"]]}]}]},{"timestamp":1742773803519,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":205,"length1":28,"diffs":[[1,"    function allMenus() {\n"]]}]}]},{"timestamp":1742773811141,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":205,"length1":33,"diffs":[[1,"    exfunction allMenus() {\n"]]}]}]},{"timestamp":1742773853781,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":40,"length1":22,"diffs":[[1,"//% block=\"Menu Cursor\"\n"]]}]}]},{"timestamp":1742774519445,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":62,"length1":20,"diffs":[[1,"namespace menuCursor {\n"]]}]}]},{"timestamp":1742774532188,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":131,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block></xml>"]]}]},{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":1,"length1":21,"diffs":[[1,"\n//% icon=\"\\uf0c9\"\n//% color=\"#36b58b\"\n//% block=\"Mini Menu\"\nnamespace miniMen {\n"]]},{"start1":200,"length1":23,"diffs":[[1,""]]},{"start1":285,"length1":387,"diffs":[[1,"}\n"]]},{"start1":288,"length1":223,"diffs":[[1,"browserEvents.onMouseMove(function (x, y) {\n    for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n        if (!menu.buttonEventsEnabled) continue\n        if (menu.left > x || menu.right < x) continue\n"]]},{"start1":523,"length1":188,"diffs":[[1,"        let menuTop = menu.top\n        if (menu.title != undefined) menuTop += 12\n        if (menu.frame != undefined) menuTop += menu.frame.height / 3\n        let posInMenu = Math.trunc((y - menuTop) / 12)\n"]]},{"start1":731,"length1":784,"diffs":[[1,"        if (posInMenu >= 0 && posInMenu < menu.items.length) {\n            menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n            return\n"]]},{"start1":893,"length1":0,"diffs":[[1,"})\n"]]},{"start1":897,"length1":125,"diffs":[[1,""]]},{"start1":1652,"length1":0,"diffs":[[1,"\n\n"]]}]}]},{"timestamp":1742775129896,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":133,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>"]]}]},{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":22,"length1":84,"diffs":[[1,""]]},{"start1":248,"length1":53,"diffs":[[1,"    //% block=\"update menu position to cursor %x %y\"\n"]]},{"start1":1049,"length1":110,"diffs":[[1,"    //% block=\"click menu at cursor position %x %y\"\n    //% blockId=\"menu_cursor_update_position\"\n"]]},{"start1":1170,"length1":111,"diffs":[[1,"    export function clickMenuAtPosition(x: number, y: number) {\n"]]},{"start1":1796,"length1":36,"diffs":[[1,""]]},{"start1":1850,"length1":189,"diffs":[[1,"    export function pressButton(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button);\n"]]},{"start1":1972,"length1":199,"diffs":[[1,"}\n"]]},{"start1":1975,"length1":219,"diffs":[[1,"browserEvents.MouseLeft.onEvent(browserEvents.MouseButtonEvent.Pressed, function (x: number, y: number) {\n    for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n        if (!menu.buttonEventsEnabled) continue\n        if (menu.left > x || menu.right < x) continue\n"]]},{"start1":2272,"length1":213,"diffs":[[1,"        let menuTop = menu.top\n        if (menu.title != undefined) menuTop += 12\n        if (menu.frame != undefined) menuTop += menu.frame.height / 3\n        let posInMenu = Math.trunc((y - menuTop) / 12)\n"]]},{"start1":2480,"length1":218,"diffs":[[1,"        if (posInMenu >= 0 && posInMenu < menu.items.length) {\n            menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n            controller.A.setPressed(true)\n            controller.A.setPressed(false)\n            return\n        }\n"]]},{"start1":2727,"length1":2,"diffs":[[1,"})\n"]]}]}]},{"timestamp":1742775729253,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":131,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"51\" y=\"57\"></block></xml>"]]}]},{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":1266,"length1":0,"diffs":[[1,"    //% button.defl=\n"]]},{"start1":2029,"length1":94,"diffs":[[1,"    //% block=\"left click button\"\n    //% blockId=\"menu_cursor_left_click_button\"\n"]]},{"start1":2134,"length1":9,"diffs":[[1,"    export function leftButton(button: ControllerButton) {\n        return leftClick\n    }\n\n    //% block=\"right click button\"\n    //% blockId=\"menu_cursor_right_click_button\"\n    //% group=\"Cursor\"\n    export function rightButton(button: ControllerButton) {\n        return rightClick\n    }\n\n    //% block=\"set left click button to $button\"\n    //% blockId=\"menu_cursor_set_left_click_button\"\n    //% group=\"Cursor\"\n    export function setLeftButton(button: ControllerButton) {\n        leftClick = button\n    }\n\n    //% block=\"set right click button to $button\"\n    //% blockId=\"menu_cursor_set_left_click_button\"\n    //% group=\"Cursor\"\n    export function setLeftButton(button: ControllerButton) {\n         rightClick\n    }\n\n    //% block=\"click button $button\"\n    //% blockId=\"menu_cursor_click_button\"\n    //% group=\"Cursor\"\n"]]}]}]},{"timestamp":1742776328915,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":15596,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":600,"diffs":[[1,"\n"]]}]},{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":332,"length1":105,"diffs":[[1,""]]},{"start1":454,"length1":17,"diffs":[[1,""]]},{"start1":1133,"length1":120,"diffs":[[1,""]]},{"start1":1266,"length1":17,"diffs":[[1,""]]},{"start1":2125,"length1":17,"diffs":[[1,"    //% \n"]]},{"start1":2194,"length1":106,"diffs":[[1,"        control.raiseEvent(INTERNAL_KEY_DOWN, button);\n"]]}]}]},{"timestamp":1742776877260,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":2109,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"xobq]6HS%r59{:R$ekt7\">myMenu</variable><variable id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"636\" y=\"-81\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"4\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":2001,"length1":198,"diffs":[[1,""]]},{"start1":2166,"length1":1422,"diffs":[[1,""]]},{"start1":2364,"length1":330,"diffs":[[1,""]]},{"start1":12751,"length1":2954,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">title</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">:)</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"711\" y=\"275\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":237,"length1":761,"diffs":[[1,""]]},{"start1":432,"length1":50,"diffs":[[1,"myMenu.setTitle(\"title\")\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":314,"length1":78,"diffs":[[1,"        \"miniMenuCursor.ts\"\n"]]}]},{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":841,"length1":23,"diffs":[[1,""]]},{"start1":877,"length1":162,"diffs":[[1,"            if (menu.title != undefined) menuTop += 12\n            if (menu.frame != undefined) menuTop += menu.frame.height / 3\n            let posInMenu = Math.trunc((y - menuTop) / 12)\n"]]},{"start1":1853,"length1":162,"diffs":[[1,"            if (menu.title != undefined) menuTop += 12\n            if (menu.frame != undefined) menuTop += menu.frame.height / 3\n            let posInMenu = Math.trunc((y - menuTop) / 12)\n"]]}]},{"type":"added","filename":"tilemap.g.jres","value":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMA==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tileGrass2\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}"},{"type":"added","filename":"tilemap.g.ts","value":"// Auto-generated code. Do not edit.\nnamespace myTiles {\n    //% fixedInstance jres blockIdentity=images._tile\n    export const transparency16 = image.ofBuffer(hex``);\n\n    helpers._registerFactory(\"tilemap\", function(name: string) {\n        switch(helpers.stringTrim(name)) {\n            case \"level1\":\n            case \"level1\":return tiles.createTilemap(hex`1000100001010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`, img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`, [myTiles.transparency16,sprites.castle.tileGrass2], TileScale.Sixteen);\n        }\n        return null;\n    })\n\n    helpers._registerFactory(\"tile\", function(name: string) {\n        switch(helpers.stringTrim(name)) {\n            case \"transparency16\":return transparency16;\n        }\n        return null;\n    })\n\n}\n// Auto-generated code. Do not edit.\n"}]},{"timestamp":1742777531329,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":841,"length1":67,"diffs":[[1,"            if (menu.)\n"]]}]}]},{"timestamp":1742777575529,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":841,"length1":50,"diffs":[[1,"            if (myMenu.setFlag(SpriteFlag.RelativeToCamera, true))\n"]]},{"start1":909,"length1":75,"diffs":[[1,""]]}]}]},{"timestamp":1742778457613,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":908,"length1":13,"diffs":[[1,"            //setFlag(SpriteFlag.RelativeToCamera, true))\n"]]}]}]},{"timestamp":1742778486984,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":2108,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"xobq]6HS%r59{:R$ekt7\">myMenu</variable><variable id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\";dkzB9::MbxA{ii@C4rJ\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"cB.]aSj8$s5cED^,zSpF\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"cDE2Td!@`O.NJ3eUK5jo\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"%ywY?vk%7LGs~ne=AA?o\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"OYw%,a!tYNcA,FsL_yIO\">MiniMenu</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"636\" y=\"-81\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"34\" y=\"61\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":14974,"length1":2954,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value></block></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">:)</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"711\" y=\"275\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":1243,"length1":53,"diffs":[[1,""]]},{"start1":1386,"length1":61,"diffs":[[1,""]]}]},{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":854,"length1":22,"diffs":[[1,"            //if (menu.isStatic()) {\n"]]}]}]},{"timestamp":1742822280639,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":8189,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"xobq]6HS%r59{:R$ekt7\">myMenu</variable><variable id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\";dkzB9::MbxA{ii@C4rJ\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"cB.]aSj8$s5cED^,zSpF\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"cDE2Td!@`O.NJ3eUK5jo\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"%ywY?vk%7LGs~ne=AA?o\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"OYw%,a!tYNcA,FsL_yIO\">MiniMenu</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"602\" y=\"-142\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . f f . . . . . . . . \n. . . . . f f f f f f f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f c 9 9 9 c f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f f f f f f f . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"4\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value></block></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">:)</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"677\" y=\"214\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block></xml>"]]}]}]},{"timestamp":1742822288050,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":10946,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"p|}y649^(-6)U(Xka]Y?\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"WNT`PQWXh2m2y#`hmY)!\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"[P+[|]PSD;*D:vW@{~^1\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"LHjJvIFw0?VI+WlZ*Unj\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"+T$3@ge`R95EqeJg?5,,\">MiniMenu</variable><variable id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</variable><variable id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"602\" y=\"-142\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"10\" y=\"10\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . f f . . . . . . . . \n    . . . . . f f f f f f f . . . . \n    . . . . . f c c 9 c c f . . . . \n    . . . . . f c 9 9 9 c f . . . . \n    . . . . . f c c 9 c c f . . . . \n    . . . . . f f f f f f f . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    `</field></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"4\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value></block></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">mySprite.flags</field></block></value><statement name=\"DO0\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">mySprite.flags</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"677\" y=\"214\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":1160,"length1":205,"diffs":[[1,"miniMenu.createMenuItem(\"abc\")\n"]]},{"start1":1295,"length1":57,"diffs":[[1,"\nmyMenu.setDimensions(100, 100)\n"]]}]},{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":854,"length1":58,"diffs":[[1,"            //if () {\n"]]},{"start1":1045,"length1":74,"diffs":[[1,"            let posInMenu = Math.floor((y - menuTop) / 12)\n"]]},{"start1":1172,"length1":47,"diffs":[[1,"                menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n"]]},{"start1":1995,"length1":74,"diffs":[[1,"            let posInMenu = Math.floor((y - menuTop) / 12)\n"]]},{"start1":2122,"length1":47,"diffs":[[1,"                menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n"]]}]}]},{"timestamp":1742822782623,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":22,"length1":0,"diffs":[[1,"    let leftClick = ControllerButton.A\n    let rightClick = ControllerButton.B\n"]]},{"start1":1081,"length1":74,"diffs":[[1,"            let posInMenu = Math.floor((y - menuTop - menu.yScroll) / 12)\n"]]},{"start1":1156,"length1":153,"diffs":[[1,"            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = posInMenu\n"]]},{"start1":2025,"length1":74,"diffs":[[1,"            let posInMenu = Math.floor((y - menuTop - menu.yScroll) / 12)\n"]]},{"start1":2100,"length1":70,"diffs":[[1,"            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n"]]}]}]},{"timestamp":1742823381110,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":2662,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"p|}y649^(-6)U(Xka]Y?\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"WNT`PQWXh2m2y#`hmY)!\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"[P+[|]PSD;*D:vW@{~^1\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"LHjJvIFw0?VI+WlZ*Unj\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"+T$3@ge`R95EqeJg?5,,\">MiniMenu</variable><variable id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</variable><variable id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"672\" y=\"-54\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"1239\" y=\"-54\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"41\" y=\"55\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]}]},{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":480,"length1":17,"diffs":[[1,"    //% weight=3\n"]]},{"start1":762,"length1":0,"diffs":[[1,"            \n            //if () { // for relative-to-camera check...?\n"]]},{"start1":834,"length1":0,"diffs":[[1,"            //}\n            \n\n"]]},{"start1":1077,"length1":249,"diffs":[[1,"            if (posInMenu > -1 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.constrain(posInMenu, 0, menu.items.length-)\n                return\n"]]},{"start1":1537,"length1":17,"diffs":[[1,"    //% weight=1\n"]]},{"start1":2060,"length1":67,"diffs":[[1,"            if (posInMenu > 0 && posInMenu < menu.items.length + 0) {\n"]]},{"start1":2213,"length1":25,"diffs":[[1,"                return\n"]]},{"start1":2267,"length1":282,"diffs":[[1,""]]},{"start1":2384,"length1":307,"diffs":[[1,""]]},{"start1":2573,"length1":0,"diffs":[[1,"\n"]]}]}]},{"timestamp":1742823977865,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":2664,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"p|}y649^(-6)U(Xka]Y?\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"WNT`PQWXh2m2y#`hmY)!\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"[P+[|]PSD;*D:vW@{~^1\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"LHjJvIFw0?VI+WlZ*Unj\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"+T$3@ge`R95EqeJg?5,,\">MiniMenu</variable><variable id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</variable><variable id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"631\" y=\"-109\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"1198\" y=\"-109\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":3190,"length1":11266,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"10\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></value></block></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">mySprite.flags</field></block></value><statement name=\"DO0\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">mySprite.flags</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":152,"length1":304,"diffs":[[1,""]]},{"start1":1032,"length1":361,"diffs":[[1,"miniMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"\"),\nminiMenu.createMenuItem(\"\"),\nminiMenu.createMenuItem(\"\"),\nminiMenu.createMenuItem(\"\"),\nminiMenu.createMenuItem(\"\"),\nminiMenu.createMenuItem(\"\")\n"]]},{"start1":1367,"length1":25,"diffs":[[1,""]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":399,"length1":35,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]},{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":2350,"length1":281,"diffs":[[1,"    export function scrollUp(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button)\n        control.raiseEvent(INTERNAL_KEY_UP, button)\n"]]},{"start1":2520,"length1":76,"diffs":[[1,"    //% block=\"simulate click of button $button\"\n    //% blockId=\"menu_cursor_simulate_click\"\n"]]},{"start1":2654,"length1":303,"diffs":[[1,"    export function pressButton(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button)\n        control.raiseEvent(INTERNAL_KEY_UP, button)\n"]]}]}]},{"timestamp":1742824573835,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":3192,"length1":11528,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">0</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">5</field></block></value></block></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">6</field></block></value></block></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">7</field></block></value></block></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">8</field></block></value></block></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">9</field></block></value></block></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">10</field></block></value></block></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">11</field></block></value></block></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">title</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">mySprite.flags</field></block></value><statement name=\"DO0\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">mySprite.flags</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_onWheel\" x=\"749\" y=\"478\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">4</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">4</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><shadow type=\"math_number\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"></block></statement></block></statement></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":271,"length1":67,"diffs":[[1,""]]},{"start1":1699,"length1":38,"diffs":[[1,"myMenu.setTitle(\"title\")\n"]]},{"start1":1826,"length1":30,"diffs":[[1,"myMenu.setDimensions(100, 70)\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":399,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"blocksprj\"\n"]]}]},{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":704,"length1":196,"diffs":[[1,"            if (menu.left > x || menu.right < x) continue\n"]]},{"start1":976,"length1":67,"diffs":[[1,"            if (posInMenu > -1 && posInMenu < menu.items.length) { // extra detected space above and below allows for easier scrolling\n"]]},{"start1":1200,"length1":0,"diffs":[[1,"                //return\n"]]},{"start1":1818,"length1":59,"diffs":[[1,""]]},{"start1":2182,"length1":0,"diffs":[[1,"                //return\n"]]}]}]},{"timestamp":1742825135263,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1187,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"p|}y649^(-6)U(Xka]Y?\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"WNT`PQWXh2m2y#`hmY)!\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"[P+[|]PSD;*D:vW@{~^1\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"LHjJvIFw0?VI+WlZ*Unj\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"+T$3@ge`R95EqeJg?5,,\">MiniMenu</variable><variable id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</variable><variable id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"574\" y=\"-166\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"1141\" y=\"-166\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"69\" y=\"51\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":3192,"length1":20459,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">0</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">5</field></block></value></block></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">6</field></block></value></block></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">7</field></block></value></block></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">8</field></block></value></block></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">9</field></block></value></block></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">10</field></block></value></block></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">11</field></block></value></block></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Works with cursor!</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">114</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">mySprite.flags</field></block></value><statement name=\"DO0\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">mySprite.flags</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_onWheel\" x=\"749\" y=\"478\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">4</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"><comment pinned=\"true\" h=\"140.7225341796875\" w=\"169.31884765625\">Switch these around to change the scroll direction!</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-263.8840720768221\",\"~commentOffsetY\":\"-32.40724260213824\"}}</data></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">4</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><shadow type=\"math_number\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"></block></statement></block></statement></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":152,"length1":990,"diffs":[[1,""]]},{"start1":608,"length1":230,"diffs":[[1,""]]},{"start1":1369,"length1":30,"diffs":[[1,"let myMenu = miniMenu.createMenu(\n"]]},{"start1":1854,"length1":0,"diffs":[[1,"mySprite.setFlag(SpriteFlag.RelativeToCamera, true)\n"]]},{"start1":2072,"length1":64,"diffs":[[1,""]]},{"start1":2075,"length1":0,"diffs":[[1,"if (mySprite.flags) {\n    mySprite.sayText(mySprite.flags)\n}\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":399,"length1":35,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]}]},{"timestamp":1742825725569,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1185,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"o_]mQ#J@*xnwu7u)%2-$\">Player</variable><variable type=\"KIND_SpriteKind\" id=\",7O,sL@N-f=!Ec8^g|/S\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"RJpP@lrR@$m9XwNP}(e{\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"4_Y9,e0}:z{X%aJyTH]E\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"Od?7((MK-paQTsGfU2MM\">MiniMenu</variable><variable id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</variable><variable id=\"s:$H3o}75{A],R2chD2_\">myMenu</variable><variable id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</variable></variables><block type=\"pxt-on-start\" x=\"41\" y=\"47\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":1715,"length1":21030,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">0</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Works with cursor!</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">114</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"724\" y=\"20\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"1292\" y=\"20\"><field name=\"this\">browserEvents.MouseRight</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"1859\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onWheel\" x=\"2336\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"><comment pinned=\"false\" h=\"80\" w=\"160\">Switch these around to change the scroll direction!</comment></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"></block></statement></block></statement></block></statement></block><block type=\"function_definition\" x=\"15\" y=\"1712\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><field name=\"function_name\">Create sub menu</field><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">Number</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">back</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Sub menu:</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Sub Menu #</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">Number</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">125</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">66</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></statement><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.B</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":838,"length1":50,"diffs":[[1,"        menu2.sayText(\"\")\n"]]},{"start1":3202,"length1":47,"diffs":[[1,"    myMenu.sayText(selectedIndex)\n"]]},{"start1":3277,"length1":35,"diffs":[[1,"    Create_sub_menu(1)\n"]]}]}]},{"timestamp":1742826270687,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1187,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"o_]mQ#J@*xnwu7u)%2-$\">Player</variable><variable type=\"KIND_SpriteKind\" id=\",7O,sL@N-f=!Ec8^g|/S\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"RJpP@lrR@$m9XwNP}(e{\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"4_Y9,e0}:z{X%aJyTH]E\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"Od?7((MK-paQTsGfU2MM\">MiniMenu</variable><variable id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</variable><variable id=\"s:$H3o}75{A],R2chD2_\">myMenu</variable><variable id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":1713,"length1":21035,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">0</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Works with cursor!</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">114</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"698\" y=\"0\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"1265\" y=\"0\"><field name=\"this\">browserEvents.MouseRight</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"1833\" y=\"0\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onWheel\" x=\"2310\" y=\"0\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"><comment pinned=\"false\" h=\"80\" w=\"160\">Switch these around to change the scroll direction!</comment></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"></block></statement></block></statement></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"1433\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><field name=\"function_name\">Create sub menu</field><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">Number</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">back</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Sub menu:</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Sub Menu #</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">Number</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">125</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">66</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></statement><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.B</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":399,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"blocksprj\"\n"]]}]},{"type":"edited","filename":"miniMenuCursor.ts","patch":[{"start1":168,"length1":103,"diffs":[[1,"    export function allMenus() {\n"]]},{"start1":560,"length1":39,"diffs":[[1,"        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n"]]},{"start1":1661,"length1":39,"diffs":[[1,"        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n"]]},{"start1":2462,"length1":39,"diffs":[[1,"        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n"]]},{"start1":2868,"length1":39,"diffs":[[1,"        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n"]]}]}]},{"timestamp":1742827227907,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":399,"length1":35,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]}]},{"timestamp":1742827320844,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":21563,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"o_]mQ#J@*xnwu7u)%2-$\">Player</variable><variable type=\"KIND_SpriteKind\" id=\",7O,sL@N-f=!Ec8^g|/S\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"RJpP@lrR@$m9XwNP}(e{\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"4_Y9,e0}:z{X%aJyTH]E\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"Od?7((MK-paQTsGfU2MM\">MiniMenu</variable><variable id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</variable><variable id=\"s:$H3o}75{A],R2chD2_\">myMenu</variable><variable id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . f f . . . . . . . . \n. . . . . f f f f f f f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f c 9 9 9 c f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f f f f f f f . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">0</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Works with cursor!</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">114</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"893\" y=\"20\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"1460\" y=\"20\"><field name=\"this\">browserEvents.MouseRight</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"2028\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onWheel\" x=\"2505\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"><comment pinned=\"false\" h=\"80\" w=\"160\">Switch these around to change the scroll direction!</comment></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"></block></statement></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1453\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><field name=\"function_name\">Create sub menu</field><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">Number</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">back</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Sub menu:</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Sub Menu #</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">Number</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">125</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">66</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></statement><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.B</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":1893,"length1":0,"diffs":[[1,"let mySprite = sprites.create(img`\n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . f f . . . . . . . . \n    . . . . . f f f f f f f . . . . \n    . . . . . f c c 9 c c f . . . . \n    . . . . . f c 9 9 9 c f . . . . \n    . . . . . f c c 9 c c f . . . . \n    . . . . . f f f f f f f . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    `, SpriteKind.Player)\ncontroller.moveSprite(mySprite)\nscene.cameraFollowSprite(mySprite)\n"]]}]}]},{"timestamp":1742827946103,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":1622,"length1":89,"diffs":[[1,"browserEvents.MouseRight.onEvent(browserEvents.MouseButtonEvent.Pressed, function (x, y) {\n"]]}]}]},{"timestamp":1742827951327,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":22709,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"o_]mQ#J@*xnwu7u)%2-$\">Player</variable><variable type=\"KIND_SpriteKind\" id=\",7O,sL@N-f=!Ec8^g|/S\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"RJpP@lrR@$m9XwNP}(e{\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"4_Y9,e0}:z{X%aJyTH]E\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"Od?7((MK-paQTsGfU2MM\">MiniMenu</variable><variable id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</variable><variable id=\"s:$H3o}75{A],R2chD2_\">myMenu</variable><variable id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</variable></variables><block type=\"pxt-on-start\" x=\"37\" y=\"59\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">0</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Works with cursor!</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">114</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1536\" y=\"27\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><field name=\"function_name\">Create sub menu</field><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">Number</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">back</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Sub menu:</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Sub Menu #</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">Number</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">125</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">66</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></statement><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.B</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"898\" y=\"92\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"898\" y=\"263\"><field name=\"this\">browserEvents.MouseRight</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"901\" y=\"449\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onWheel\" x=\"902\" y=\"632\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"><comment pinned=\"true\" h=\"132.50277709960938\" w=\"175.03887939453125\">Switch these around to change the scroll direction!</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-286.155988873743\",\"~commentOffsetY\":\"10.168723315237344\"}}</data></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-279.45135202797474\",\"~commentOffsetY\":\"-143.9953212027483\"}}</data></block></statement></block></statement></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":250,"diffs":[[1,""]]},{"start1":1622,"length1":91,"diffs":[[1,"browserEvents.MouseAny.onEvent(browserEvents.MouseButtonEvent.Pressed, function (x, y) {\n"]]}]}]},{"timestamp":1742828239079,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":22648,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"o_]mQ#J@*xnwu7u)%2-$\">Player</variable><variable type=\"KIND_SpriteKind\" id=\",7O,sL@N-f=!Ec8^g|/S\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"RJpP@lrR@$m9XwNP}(e{\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"4_Y9,e0}:z{X%aJyTH]E\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"Od?7((MK-paQTsGfU2MM\">MiniMenu</variable><variable id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</variable><variable id=\"s:$H3o}75{A],R2chD2_\">myMenu</variable><variable id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"551\" y=\"-23\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"37\" y=\"59\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">0</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Works with cursor!</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">114</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1536\" y=\"27\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><field name=\"function_name\">Create sub menu</field><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">Number</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">back</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Sub menu:</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Sub Menu #</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">Number</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">125</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">66</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></statement><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.B</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"549\" y=\"133\"><field name=\"this\">browserEvents.MouseWheel</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><comment pinned=\"true\" h=\"149.4023895263672\" w=\"228.13018798828125\">Apparently 'right click' on Mac (two finger click on track pad) is actually the wheel button.</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-271.52299384703946\",\"~commentOffsetY\":\"-231.22896860664176\"}}</data><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"549\" y=\"291\"><field name=\"this\">browserEvents.MouseRight</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"548\" y=\"450\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onWheel\" x=\"939\" y=\"613\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"><comment pinned=\"true\" h=\"132.50277709960938\" w=\"175.03887939453125\">Switch these around to change the scroll direction!</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-286.155988873743\",\"~commentOffsetY\":\"10.168723315237344\"}}</data></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-279.45135202797474\",\"~commentOffsetY\":\"-143.9953212027483\"}}</data></block></statement></block></statement></block></statement></block></xml>"]]}]}]},{"timestamp":1742831198821,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":22649,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"o_]mQ#J@*xnwu7u)%2-$\">Player</variable><variable type=\"KIND_SpriteKind\" id=\",7O,sL@N-f=!Ec8^g|/S\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"RJpP@lrR@$m9XwNP}(e{\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"4_Y9,e0}:z{X%aJyTH]E\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"Od?7((MK-paQTsGfU2MM\">MiniMenu</variable><variable id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</variable><variable id=\"s:$H3o}75{A],R2chD2_\">myMenu</variable><variable id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"514\" y=\"-82\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">0</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Works with cursor!</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">114</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1499\" y=\"-32\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><field name=\"function_name\">Create sub menu</field><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">Number</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">back</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Sub menu:</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Sub Menu #</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">Number</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">125</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">66</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></statement><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.B</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"512\" y=\"74\"><field name=\"this\">browserEvents.MouseWheel</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><comment pinned=\"true\" h=\"149\" w=\"228\">Apparently 'right click' on Mac (two finger click on track pad) is actually the wheel button.</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-271.52299384703946\",\"~commentOffsetY\":\"-231.22896860664176\"}}</data><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"512\" y=\"232\"><field name=\"this\">browserEvents.MouseRight</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"511\" y=\"391\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onWheel\" x=\"902\" y=\"554\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"><comment pinned=\"true\" h=\"132\" w=\"175\">Switch these around to change the scroll direction!</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-286.155988873743\",\"~commentOffsetY\":\"10.168723315237344\"}}</data></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-279.45135202797474\",\"~commentOffsetY\":\"-143.9953212027483\"}}</data></block></statement></block></statement></block></statement></block></xml>"]]}]}]},{"timestamp":1742831824366,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":38,"diffs":[[1,""]]},{"start1":447,"length1":43,"diffs":[[1,""]]},{"start1":2025,"length1":0,"diffs":[[1,"let menu2: miniMenu.MenuSprite = null\nlet myMenu: miniMenu.MenuSprite = null\ntiles.setCurrentTilemap(tilemap`level1`)\nmyMenu = miniMenu.createMenu(\nminiMenu.createMenuItem(\"0\"),\nminiMenu.createMenuItem(\"1\"),\nminiMenu.createMenuItem(\"2\"),\nminiMenu.createMenuItem(\"3\"),\nminiMenu.createMenuItem(\"4\"),\nminiMenu.createMenuItem(\"5\"),\nminiMenu.createMenuItem(\"6\"),\nminiMenu.createMenuItem(\"7\"),\nminiMenu.createMenuItem(\"8\"),\nminiMenu.createMenuItem(\"9\"),\nminiMenu.createMenuItem(\"10\"),\nminiMenu.createMenuItem(\"11\")\n)\nmyMenu.setTitle(\"Works with cursor!\")\nmyMenu.setFlag(SpriteFlag.RelativeToCamera, true)\nmyMenu.setDimensions(114, 70)\nmyMenu.setPosition(63, 63)\nmyMenu.onButtonPressed(controller.A, function (selection, selectedIndex) {\n    myMenu.sayText(selectedIndex, 1000, false)\n    myMenu.setButtonEventsEnabled(false)\n    Create_sub_menu(selectedIndex)\n})\n"]]}]}]},{"timestamp":1742831927847,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"let menu2: miniMenu.MenuSprite = null\n"]]},{"start1":485,"length1":0,"diffs":[[1,"    let myMenu: miniMenu.MenuSprite = null\n"]]},{"start1":2106,"length1":857,"diffs":[[1,""]]}]}]},{"timestamp":1742837237952,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":399,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"blocksprj\"\n"]]}]}]},{"timestamp":1742837307580,"editorVersion":"2.0.40","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":627,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"o_]mQ#J@*xnwu7u)%2-$\">Player</variable><variable type=\"KIND_SpriteKind\" id=\",7O,sL@N-f=!Ec8^g|/S\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"RJpP@lrR@$m9XwNP}(e{\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"4_Y9,e0}:z{X%aJyTH]E\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"Od?7((MK-paQTsGfU2MM\">MiniMenu</variable><variable id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</variable><variable id=\"s:$H3o}75{A],R2chD2_\">myMenu</variable><variable id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"514\" y=\"-82\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"function_definition\" x=\"1379\" y=\"-105\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><field name=\"function_name\">Create sub menu</field><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">Number</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">back</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Sub menu:</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Sub Menu #</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">Number</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">125</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">66</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></statement><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.B</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">0</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Works with cursor!</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">114</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"512\" y=\"74\"><field name=\"this\">browserEvents.MouseWheel</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><comment pinned=\"true\" h=\"149\" w=\"228\">Apparently 'right click' on Mac (two finger click on track pad) is actually the wheel button.</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-271.52299384703946\",\"~commentOffsetY\":\"-231.22896860664176\"}}</data><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"512\" y=\"232\"><field name=\"this\">browserEvents.MouseRight</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"511\" y=\"391\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onWheel\" x=\"902\" y=\"554\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"><comment pinned=\"true\" h=\"132\" w=\"175\">Switch these around to change the scroll direction!</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-286.155988873743\",\"~commentOffsetY\":\"10.168723315237344\"}}</data></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-279.45135202797474\",\"~commentOffsetY\":\"-143.9953212027483\"}}</data></block></statement></block></statement></block></statement></block></xml>"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":399,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1742770518490,"editorVersion":"2.0.40","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>","main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"pxt-mini-menu-cursor\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1742772556397,"editorVersion":"2.0.40","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"\n","README.md":" ","assets.json":"","miniMenuCursor.ts":"\n/**\n* Use this file to define custom functions and blocks.\n* Read more at https://arcade.makecode.com/blocks/custom\n*/\n\nenum MyEnum {\n    //% block=\"one\"\n    One,\n    //% block=\"two\"\n    Two\n}\n\n/**\n * Custom blocks\n */\n//% weight=100 color=#0fbc11 icon=\"\"\nnamespace custom {\n    /**\n     * TODO: describe your function here\n     * @param n describe parameter here, eg: 5\n     * @param s describe parameter here, eg: \"Hello\"\n     * @param e describe parameter here\n     */\n    //% block\n    export function foo(n: number, s: string, e: MyEnum): void {\n        // Add code here\n    }\n\n    /**\n     * TODO: describe your function here\n     * @param value describe value here, eg: 5\n     */\n    //% block\n    export function fib(value: number): number {\n        return value <= 1 ? value : fib(value -1) + fib(value - 2);\n    }\n}\n\nbrowserEvents.onMouseMove(function (x, y) {\n    for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n        if (!menu.buttonEventsEnabled) continue\n        if (menu.left > x || menu.right < x) continue\n\n        let menuTop = menu.top\n        if (menu.title != undefined) menuTop += 12\n        if (menu.frame != undefined) menuTop += menu.frame.height / 3\n        let posInMenu = Math.trunc((y - menuTop) / 12)\n\n        if (posInMenu >= 0 && posInMenu < menu.items.length) {\n            menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n            return\n        }\n    }\n})\n\nbrowserEvents.MouseLeft.onEvent(browserEvents.MouseButtonEvent.Pressed, function (x: number, y: number) {\n    for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n        if (!menu.buttonEventsEnabled) continue\n        if (menu.left > x || menu.right < x) continue\n\n        let menuTop = menu.top\n        if (menu.title != undefined) menuTop += 12\n        if (menu.frame != undefined) menuTop += menu.frame.height / 3\n        let posInMenu = Math.trunc((y - menuTop) / 12)\n\n        if (posInMenu >= 0 && posInMenu < menu.items.length) {\n            menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n            controller.A.setPressed(true)\n            controller.A.setPressed(false)\n            return\n        }\n    }\n})\n\nclass cursorMenu extends miniMenu.MenuSprite {\n    \n    allMenus() {\n        return \n    }\n}","pxt.json":"{\n    \"name\": \"pxt-mini-menu-cursor\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"browser-events\": \"*\",\n        \"arcade-mini-menu\": \"github:riknoll/arcade-mini-menu#v0.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"miniMenuCursor.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1742774519445,"editorVersion":"2.0.40","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block></xml>","main.ts":"\n","README.md":" ","assets.json":"","miniMenuCursor.ts":"\n\n//% icon=\"\\uf0c9\"\n//% color=\"#36b58b\"\n//% block=\"Menu Cursor\"\nnamespace menuCursor {\n    /**\n     * an array of all menu sprites\n     */\n    //% block=\"all menus\"\n    //% blockId=\"menu_cursor_all_menus\"\n    export function allMenus() {\n        return miniMenu._state().sprites\n    }\n    \n}\n\nbrowserEvents.onMouseMove(function (x, y) {\n    for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n        if (!menu.buttonEventsEnabled) continue\n        if (menu.left > x || menu.right < x) continue\n\n        let menuTop = menu.top\n        if (menu.title != undefined) menuTop += 12\n        if (menu.frame != undefined) menuTop += menu.frame.height / 3\n        let posInMenu = Math.trunc((y - menuTop) / 12)\n\n        if (posInMenu >= 0 && posInMenu < menu.items.length) {\n            menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n            return\n        }\n    }\n})\n\nbrowserEvents.MouseLeft.onEvent(browserEvents.MouseButtonEvent.Pressed, function (x: number, y: number) {\n    for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n        if (!menu.buttonEventsEnabled) continue\n        if (menu.left > x || menu.right < x) continue\n\n        let menuTop = menu.top\n        if (menu.title != undefined) menuTop += 12\n        if (menu.frame != undefined) menuTop += menu.frame.height / 3\n        let posInMenu = Math.trunc((y - menuTop) / 12)\n\n        if (posInMenu >= 0 && posInMenu < menu.items.length) {\n            menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n            controller.A.setPressed(true)\n            controller.A.setPressed(false)\n            return\n        }\n    }\n})\n\n\n","pxt.json":"{\n    \"name\": \"pxt-mini-menu-cursor\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"browser-events\": \"*\",\n        \"arcade-mini-menu\": \"github:riknoll/arcade-mini-menu#v0.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"miniMenuCursor.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1742776325803,"editorVersion":"2.0.40","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"\n","README.md":" ","assets.json":"","miniMenuCursor.ts":"\nnamespace miniMenu {\n    let leftClick = ControllerButton.A\n    let rightClick = ControllerButton.B\n    \n    /**\n     * an array of all menu sprites\n     */\n    //% block=\"all menus\"\n    //% blockId=\"menu_cursor_all_menus\"\n    //% group=\"Cursor\"\n    export function allMenus() {\n        return miniMenu._state().sprites\n    }\n    \n    //% block=\"update menu position to cursor $x $y\"\n    //% blockId=\"menu_cursor_update_position\"\n    //% group=\"Cursor\"\n    export function updateMenuPosition(x: number, y: number) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n\n            let menuTop = menu.top\n            if (menu.title != undefined) menuTop += 12\n            if (menu.frame != undefined) menuTop += menu.frame.height / 3\n            let posInMenu = Math.trunc((y - menuTop) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n                return\n            }\n        }\n    }\n\n    //% block=\"click menu with $button at cursor position $x $y\"\n    //% blockId=\"menu_cursor_click_position\"\n    //% group=\"Cursor\"\n    export function clickMenuAtPosition(button: ControllerButton, x: number, y: number) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n\n            let menuTop = menu.top\n            if (menu.title != undefined) menuTop += 12\n            if (menu.frame != undefined) menuTop += menu.frame.height / 3\n            let posInMenu = Math.trunc((y - menuTop) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n                pressButton(button)\n                return\n            }\n        }\n    }\n\n    //% block=\"simulate click of button $button\"\n    //% blockId=\"menu_cursor_simulate_click\"\n    //% group=\"Cursor\"\n    export function pressButton(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button);\n    }\n\n}","pxt.json":"{\n    \"name\": \"pxt-mini-menu-cursor\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"browser-events\": \"*\",\n        \"arcade-mini-menu\": \"github:riknoll/arcade-mini-menu#v0.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"miniMenuCursor.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1742778457613,"editorVersion":"2.0.40","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"xobq]6HS%r59{:R$ekt7\">myMenu</variable><variable id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\";dkzB9::MbxA{ii@C4rJ\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"cB.]aSj8$s5cED^,zSpF\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"cDE2Td!@`O.NJ3eUK5jo\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"%ywY?vk%7LGs~ne=AA?o\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"OYw%,a!tYNcA,FsL_yIO\">MiniMenu</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"636\" y=\"-81\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"34\" y=\"61\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . f f . . . . . . . . \n. . . . . f f f f f f f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f c 9 9 9 c f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f f f f f f f . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"4\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value></block></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">:)</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"711\" y=\"275\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block></xml>","main.ts":"browserEvents.MouseLeft.onEvent(browserEvents.MouseButtonEvent.Pressed, function (x, y) {\n    miniMenu.clickMenuAtPosition(ControllerButton.A, x, y)\n})\nbrowserEvents.onMouseMove(function (x, y) {\n    miniMenu.updateMenuPosition(x, y)\n})\ntiles.setCurrentTilemap(tilemap`level1`)\nlet mySprite = sprites.create(img`\n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . f f . . . . . . . . \n    . . . . . f f f f f f f . . . . \n    . . . . . f c c 9 c c f . . . . \n    . . . . . f c 9 9 9 c f . . . . \n    . . . . . f c c 9 c c f . . . . \n    . . . . . f f f f f f f . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    `, SpriteKind.Player)\ncontroller.moveSprite(mySprite)\nscene.cameraFollowSprite(mySprite)\nlet myMenu = miniMenu.createMenu(\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\")\n)\nmyMenu.setFlag(SpriteFlag.RelativeToCamera, true)\nmyMenu.setDimensions(100, 100)\nmyMenu.onButtonPressed(controller.A, function (selection, selectedIndex) {\n    myMenu.sayText(selectedIndex)\n})\n","README.md":" ","assets.json":"","miniMenuCursor.ts":"\nnamespace miniMenu {\n    let leftClick = ControllerButton.A\n    let rightClick = ControllerButton.B\n    \n    /**\n     * an array of all menu sprites\n     */\n    //% block=\"all menus\"\n    //% blockId=\"menu_cursor_all_menus\"\n    //% group=\"Cursor\"\n    export function allMenus() {\n        return miniMenu._state().sprites\n    }\n    \n    /**\n     * place inside the Browser Events 'On Mouse Move' block with X and Y dragged inside\n     */\n    //% block=\"update menu position to cursor $x $y\"\n    //% blockId=\"menu_cursor_update_position\"\n    //% group=\"Cursor\"\n    //% weight=3\n    export function updateMenuPosition(x: number, y: number) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n            \n            //if (menu.isStatic()) {\n\n            //}\n            //setFlag(SpriteFlag.RelativeToCamera, true))\n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n                return\n            }\n        }\n    }\n\n    /**\n     * place inside the Browser Events 'On left Mouse Button clicked' block with X and Y dragged inside\n     */\n    //% block=\"click menu with $button at cursor position $x $y\"\n    //% blockId=\"menu_cursor_click_position\"\n    //% group=\"Cursor\"\n    //% weight=1\n    export function clickMenuAtPosition(button: ControllerButton, x: number, y: number) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n                pressButton(button)\n                return\n            }\n        }\n    }\n\n    //% block=\"simulate click of button $button\"\n    //% blockId=\"menu_cursor_simulate_click\"\n    //% group=\"Cursor\"\n    //% weight=0\n    export function pressButton(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button)\n        control.raiseEvent(INTERNAL_KEY_UP, button)\n    }\n\n}","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMA==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tileGrass2\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"pxt-mini-menu-cursor\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"browser-events\": \"*\",\n        \"arcade-mini-menu\": \"github:riknoll/arcade-mini-menu#v0.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"miniMenuCursor.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1742818464864,"editorVersion":"2.0.40","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"xobq]6HS%r59{:R$ekt7\">myMenu</variable><variable id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\";dkzB9::MbxA{ii@C4rJ\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"cB.]aSj8$s5cED^,zSpF\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"cDE2Td!@`O.NJ3eUK5jo\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"%ywY?vk%7LGs~ne=AA?o\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"OYw%,a!tYNcA,FsL_yIO\">MiniMenu</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"602\" y=\"-142\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . f f . . . . . . . . \n. . . . . f f f f f f f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f c 9 9 9 c f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f f f f f f f . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"4\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value></block></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">:)</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"677\" y=\"214\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block></xml>","main.ts":"browserEvents.MouseLeft.onEvent(browserEvents.MouseButtonEvent.Pressed, function (x, y) {\n    miniMenu.clickMenuAtPosition(ControllerButton.A, x, y)\n})\nbrowserEvents.onMouseMove(function (x, y) {\n    miniMenu.updateMenuPosition(x, y)\n})\ntiles.setCurrentTilemap(tilemap`level1`)\nlet mySprite = sprites.create(img`\n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . f f . . . . . . . . \n    . . . . . f f f f f f f . . . . \n    . . . . . f c c 9 c c f . . . . \n    . . . . . f c 9 9 9 c f . . . . \n    . . . . . f c c 9 c c f . . . . \n    . . . . . f f f f f f f . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    `, SpriteKind.Player)\ncontroller.moveSprite(mySprite)\nscene.cameraFollowSprite(mySprite)\nlet myMenu = miniMenu.createMenu(\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\")\n)\nmyMenu.setFlag(SpriteFlag.RelativeToCamera, true)\nmySprite.setFlag(SpriteFlag.RelativeToCamera, true)\n\nmyMenu.setDimensions(100, 100)\nmyMenu.onButtonPressed(controller.A, function (selection, selectedIndex) {\n    myMenu.sayText(selectedIndex)\n})\nif (mySprite.flags) {\n    mySprite.sayText(mySprite.flags)\n}\n","README.md":" ","assets.json":"","miniMenuCursor.ts":"\nnamespace miniMenu {\n    let leftClick = ControllerButton.A\n    let rightClick = ControllerButton.B\n    \n    /**\n     * an array of all menu sprites\n     */\n    //% block=\"all menus\"\n    //% blockId=\"menu_cursor_all_menus\"\n    //% group=\"Cursor\"\n    export function allMenus() {\n        return miniMenu._state().sprites\n    }\n    \n    /**\n     * place inside the Browser Events 'On Mouse Move' block with X and Y dragged inside\n     */\n    //% block=\"update menu position to cursor $x $y\"\n    //% blockId=\"menu_cursor_update_position\"\n    //% group=\"Cursor\"\n    //% weight=3\n    export function updateMenuPosition(x: number, y: number) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n            \n            //if () {\n\n            //}\n            \n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n                return\n            }\n        }\n    }\n\n    /**\n     * place inside the Browser Events 'On left Mouse Button clicked' block with X and Y dragged inside\n     */\n    //% block=\"click menu with $button at cursor position $x $y\"\n    //% blockId=\"menu_cursor_click_position\"\n    //% group=\"Cursor\"\n    //% weight=1\n    export function clickMenuAtPosition(button: ControllerButton, x: number, y: number) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n                pressButton(button)\n                return\n            }\n        }\n    }\n\n    //% block=\"simulate click of button $button\"\n    //% blockId=\"menu_cursor_simulate_click\"\n    //% group=\"Cursor\"\n    //% weight=0\n    export function pressButton(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button)\n        control.raiseEvent(INTERNAL_KEY_UP, button)\n    }\n\n}","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMA==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tileGrass2\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"pxt-mini-menu-cursor\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"browser-events\": \"*\",\n        \"arcade-mini-menu\": \"github:riknoll/arcade-mini-menu#v0.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"miniMenuCursor.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1742822280639,"editorVersion":"2.0.40","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"xobq]6HS%r59{:R$ekt7\">myMenu</variable><variable id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\";dkzB9::MbxA{ii@C4rJ\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"cB.]aSj8$s5cED^,zSpF\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"cDE2Td!@`O.NJ3eUK5jo\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"%ywY?vk%7LGs~ne=AA?o\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"OYw%,a!tYNcA,FsL_yIO\">MiniMenu</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"602\" y=\"-142\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . f f . . . . . . . . \n. . . . . f f f f f f f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f c 9 9 9 c f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f f f f f f f . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field></block></value><value name=\"vx\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><value name=\"vy\"><shadow type=\"spriteSpeedPicker\"><field name=\"speed\">100</field></shadow></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\":7v6/7{g8]7g#4uVHv8z\">mySprite</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"4\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"image\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value></shadow></value></block></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"xobq]6HS%r59{:R$ekt7\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">:)</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"677\" y=\"214\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block></xml>","main.ts":"browserEvents.MouseLeft.onEvent(browserEvents.MouseButtonEvent.Pressed, function (x, y) {\n    miniMenu.clickMenuAtPosition(ControllerButton.A, x, y)\n})\nbrowserEvents.onMouseMove(function (x, y) {\n    miniMenu.updateMenuPosition(x, y)\n})\ntiles.setCurrentTilemap(tilemap`level1`)\nlet mySprite = sprites.create(img`\n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . f f . . . . . . . . \n    . . . . . f f f f f f f . . . . \n    . . . . . f c c 9 c c f . . . . \n    . . . . . f c 9 9 9 c f . . . . \n    . . . . . f c c 9 c c f . . . . \n    . . . . . f f f f f f f . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    `, SpriteKind.Player)\ncontroller.moveSprite(mySprite)\nscene.cameraFollowSprite(mySprite)\nlet myMenu = miniMenu.createMenu(\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\")\n)\nmyMenu.setFlag(SpriteFlag.RelativeToCamera, true)\nmySprite.setFlag(SpriteFlag.RelativeToCamera, true)\n\nmyMenu.setDimensions(100, 100)\nmyMenu.onButtonPressed(controller.A, function (selection, selectedIndex) {\n    myMenu.sayText(selectedIndex)\n})\nif (mySprite.flags) {\n    mySprite.sayText(mySprite.flags)\n}\n","README.md":" ","assets.json":"","miniMenuCursor.ts":"\nnamespace miniMenu {\n    let leftClick = ControllerButton.A\n    let rightClick = ControllerButton.B\n    \n    /**\n     * an array of all menu sprites\n     */\n    //% block=\"all menus\"\n    //% blockId=\"menu_cursor_all_menus\"\n    //% group=\"Cursor\"\n    export function allMenus() {\n        return miniMenu._state().sprites\n    }\n    \n    /**\n     * place inside the Browser Events 'On Mouse Move' block with X and Y dragged inside\n     */\n    //% block=\"update menu position to cursor $x $y\"\n    //% blockId=\"menu_cursor_update_position\"\n    //% group=\"Cursor\"\n    //% weight=3\n    export function updateMenuPosition(x: number, y: number) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n            \n            //if () {\n\n            //}\n            \n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n                return\n            }\n        }\n    }\n\n    /**\n     * place inside the Browser Events 'On left Mouse Button clicked' block with X and Y dragged inside\n     */\n    //% block=\"click menu with $button at cursor position $x $y\"\n    //% blockId=\"menu_cursor_click_position\"\n    //% group=\"Cursor\"\n    //% weight=1\n    export function clickMenuAtPosition(button: ControllerButton, x: number, y: number) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.trunc((y - menuTop) / 12)\n                pressButton(button)\n                return\n            }\n        }\n    }\n\n    //% block=\"simulate click of button $button\"\n    //% blockId=\"menu_cursor_simulate_click\"\n    //% group=\"Cursor\"\n    //% weight=0\n    export function pressButton(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button)\n        control.raiseEvent(INTERNAL_KEY_UP, button)\n    }\n\n}","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMA==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tileGrass2\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"pxt-mini-menu-cursor\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"browser-events\": \"*\",\n        \"arcade-mini-menu\": \"github:riknoll/arcade-mini-menu#v0.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"miniMenuCursor.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1742824111987,"editorVersion":"2.0.40","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"p|}y649^(-6)U(Xka]Y?\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"WNT`PQWXh2m2y#`hmY)!\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"[P+[|]PSD;*D:vW@{~^1\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"LHjJvIFw0?VI+WlZ*Unj\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"+T$3@ge`R95EqeJg?5,,\">MiniMenu</variable><variable id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</variable><variable id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"631\" y=\"-109\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"1198\" y=\"-109\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . f f . . . . . . . . \n. . . . . f f f f f f f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f c 9 9 9 c f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f f f f f f f . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"10\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation></shadow><block type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></value></block></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VIW$~q+5ZhD(`l*Y.+*Y\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">mySprite.flags</field></block></value><statement name=\"DO0\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!k-P`]xsZ@J-+-1.Fzj-\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">mySprite.flags</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"browserEvents.MouseLeft.onEvent(browserEvents.MouseButtonEvent.Pressed, function (x, y) {\n    miniMenu.clickMenuAtPosition(ControllerButton.A, x, y)\n})\nbrowserEvents.onMouseMove(function (x, y) {\n    miniMenu.updateMenuPosition(x, y)\n})\ntiles.setCurrentTilemap(tilemap`level1`)\nlet mySprite = sprites.create(img`\n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . f f . . . . . . . . \n    . . . . . f f f f f f f . . . . \n    . . . . . f c c 9 c c f . . . . \n    . . . . . f c 9 9 9 c f . . . . \n    . . . . . f c c 9 c c f . . . . \n    . . . . . f f f f f f f . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    . . . . . . . . . . . . . . . . \n    `, SpriteKind.Player)\ncontroller.moveSprite(mySprite)\nscene.cameraFollowSprite(mySprite)\nlet myMenu = miniMenu.createMenu(\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"abc\"),\nminiMenu.createMenuItem(\"\"),\nminiMenu.createMenuItem(\"\"),\nminiMenu.createMenuItem(\"\"),\nminiMenu.createMenuItem(\"\"),\nminiMenu.createMenuItem(\"\"),\nminiMenu.createMenuItem(\"\")\n)\nmyMenu.setFlag(SpriteFlag.RelativeToCamera, true)\nmySprite.setFlag(SpriteFlag.RelativeToCamera, true)\nmyMenu.setDimensions(100, 70)\nmyMenu.setPosition(63, 63)\nmyMenu.onButtonPressed(controller.A, function (selection, selectedIndex) {\n    myMenu.sayText(selectedIndex)\n})\nif (mySprite.flags) {\n    mySprite.sayText(mySprite.flags)\n}\n","README.md":" ","assets.json":"","miniMenuCursor.ts":"\nnamespace miniMenu {\n    \n    /**\n     * an array of all menu sprites\n     */\n    //% block=\"all menus\"\n    //% blockId=\"menu_cursor_all_menus\"\n    //% group=\"Cursor\"\n    export function allMenus() {\n        return miniMenu._state().sprites\n    }\n    \n    /**\n     * place inside the Browser Events 'On Mouse Move' block with X and Y dragged inside\n     */\n    //% block=\"update menu position to cursor $x $y\"\n    //% blockId=\"menu_cursor_update_position\"\n    //% group=\"Cursor\"\n    //% weight=5\n    export function updateMenuPosition(x: number, y: number) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop + menu.yScroll) / 12)\n\n            if (posInMenu > -1 && posInMenu < menu.items.length) { // extra detected space above and below allows for easier scrolling\n                menu.selectedIndex = Math.constrain(posInMenu, 0, menu.items.length - 1)\n                //return\n            }\n        }\n    }\n\n    /**\n     * place inside the Browser Events 'On left Mouse Button clicked' block with X and Y dragged inside\n     */\n    //% block=\"click menu with $button at cursor position $x $y\"\n    //% blockId=\"menu_cursor_click_position\"\n    //% group=\"Cursor\"\n    //% weight=4\n    export function clickMenuAtPosition(button: ControllerButton, x: number, y: number) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop + menu.yScroll) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = posInMenu\n                pressButton(button)\n                //return\n            }\n        }\n    }\n\n    //% block=\"scroll menus up\"\n    //% blockId=\"menu_cursor_scroll_up\"\n    //% group=\"Cursor\"\n    //% weight=3\n    export function scrollUp(button: ControllerButton) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop + menu.yScroll) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = posInMenu\n                pressButton(button)\n                //return\n            }\n        }\n    }\n\n    //% block=\"simulate click of button $button\"\n    //% blockId=\"menu_cursor_scroll_down\"\n    //% group=\"Cursor\"\n    //% weight=2\n    export function scrollDown(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button)\n        control.raiseEvent(INTERNAL_KEY_UP, button)\n    }\n\n    //% block=\"simulate click of button $button\"\n    //% blockId=\"menu_cursor_simulate_click\"\n    //% group=\"Cursor\"\n    //% weight=0\n    export function pressButton(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button)\n        control.raiseEvent(INTERNAL_KEY_UP, button)\n    }\n}","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMA==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tileGrass2\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"pxt-mini-menu-cursor\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"browser-events\": \"*\",\n        \"arcade-mini-menu\": \"github:riknoll/arcade-mini-menu#v0.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"miniMenuCursor.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1742825912113,"editorVersion":"2.0.40","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"o_]mQ#J@*xnwu7u)%2-$\">Player</variable><variable type=\"KIND_SpriteKind\" id=\",7O,sL@N-f=!Ec8^g|/S\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"RJpP@lrR@$m9XwNP}(e{\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"4_Y9,e0}:z{X%aJyTH]E\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"Od?7((MK-paQTsGfU2MM\">MiniMenu</variable><variable id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</variable><variable id=\"s:$H3o}75{A],R2chD2_\">myMenu</variable><variable id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"683\" y=\"-27\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" disabled-reasons=\"MANUALLY_DISABLED\" x=\"1251\" y=\"-27\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\" disabled-reasons=\"MANUALLY_DISABLED\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\" disabled-reasons=\"MANUALLY_DISABLED\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value></block><block type=\"pxt-on-start\" x=\"38\" y=\"54\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . f f . . . . . . . . \n. . . . . f f f f f f f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f c 9 9 9 c f . . . . \n. . . . . f c c 9 c c f . . . . \n. . . . . f f f f f f f . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value></block></next></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"1818\" y=\"-27\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onWheel\" x=\"2295\" y=\"-27\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"><comment pinned=\"false\" h=\"80\" w=\"160\">Switch these around to change the scroll direction!</comment></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"></block></statement></block></statement></block></statement></block><block type=\"menu_cursor_click_position\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"1158\" y=\"235\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VALUE\">y</field></block></value></block><block type=\"function_definition\" x=\"-26\" y=\"1665\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><field name=\"function_name\">Create sub menu</field><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">Number</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">back</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Sub menu:</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Sub Menu #</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">Number</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">125</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">66</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></statement><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.B</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":" ","assets.json":"","miniMenuCursor.ts":"\nnamespace miniMenu {\n    \n    /**\n     * an array of all menu sprites\n     */\n    //% block=\"all menus\"\n    //% blockId=\"menu_cursor_all_menus\"\n    //% group=\"Cursor\"\n    export function allMenus() {\n        return miniMenu._state().sprites\n    }\n    \n    /**\n     * place inside the Browser Events 'On Mouse Move' block with X and Y dragged inside\n     */\n    //% block=\"update menu position to cursor $x $y\"\n    //% blockId=\"menu_cursor_update_position\"\n    //% group=\"Cursor\"\n    //% weight=5\n    export function updateMenuPosition(x: number, y: number) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue  \n            if (menu.top - 12 > y || menu.bottom + 12 < y) continue // extra detected space above and below allows for easier scrolling\n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop + menu.yScroll) / 12)\n\n            if (posInMenu > -1 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.constrain(posInMenu, 0, menu.items.length - 1)\n            }\n        }\n    }\n\n    /**\n     * place inside the Browser Events 'On left Mouse Button clicked' block with X and Y dragged inside\n     */\n    //% block=\"click menu with $button at cursor position $x $y\"\n    //% blockId=\"menu_cursor_click_position\"\n    //% group=\"Cursor\"\n    //% weight=4\n    export function clickMenuAtPosition(button: ControllerButton, x: number, y: number) {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n            if (menu.top > y || menu.bottom < y) continue \n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop + menu.yScroll) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = posInMenu\n                pressButton(button)\n            }\n        }\n    }\n\n    //% block=\"scroll menus up\"\n    //% blockId=\"menu_cursor_scroll_up\"\n    //% group=\"Cursor\"\n    //% weight=3\n    export function scrollUp() {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n\n            if (menu.selectedIndex > 0) {\n                menu.selectedIndex--\n            }\n        }\n    }\n\n    //% block=\"scroll menus down\"\n    //% blockId=\"menu_cursor_scroll_down\"\n    //% group=\"Cursor\"\n    //% weight=2\n    export function scrollDown() {\n        for (let menu of sprites.allOfKind(SpriteKind.MiniMenu) as miniMenu.MenuSprite[]) {\n            if (!menu.buttonEventsEnabled) continue\n\n            if (menu.selectedIndex < menu.items.length - 1) {\n                menu.selectedIndex++\n            }\n        }\n    }\n\n    //% block=\"simulate click of button $button\"\n    //% blockId=\"menu_cursor_simulate_click\"\n    //% group=\"Cursor\"\n    //% weight=0\n    export function pressButton(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button)\n        control.raiseEvent(INTERNAL_KEY_UP, button)\n    }\n}","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMA==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tileGrass2\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"pxt-mini-menu-cursor\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"browser-events\": \"*\",\n        \"arcade-mini-menu\": \"github:riknoll/arcade-mini-menu#v0.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"miniMenuCursor.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1742827731961,"editorVersion":"2.0.40","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"o_]mQ#J@*xnwu7u)%2-$\">Player</variable><variable type=\"KIND_SpriteKind\" id=\",7O,sL@N-f=!Ec8^g|/S\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"RJpP@lrR@$m9XwNP}(e{\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"4_Y9,e0}:z{X%aJyTH]E\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"Od?7((MK-paQTsGfU2MM\">MiniMenu</variable><variable id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</variable><variable id=\"s:$H3o}75{A],R2chD2_\">myMenu</variable><variable id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</variable></variables><block type=\"pxt-on-start\" x=\"37\" y=\"59\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">0</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Works with cursor!</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">114</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"898\" y=\"92\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"898\" y=\"263\"><field name=\"this\">browserEvents.MouseRight</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"901\" y=\"449\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onWheel\" x=\"902\" y=\"632\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"><comment pinned=\"true\" h=\"132.50277709960938\" w=\"175.03887939453125\">Switch these around to change the scroll direction!</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-286.155988873743\",\"~commentOffsetY\":\"10.168723315237344\"}}</data></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-279.45135202797474\",\"~commentOffsetY\":\"-143.9953212027483\"}}</data></block></statement></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1453\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><field name=\"function_name\">Create sub menu</field><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">Number</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">back</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Sub menu:</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Sub Menu #</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">Number</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">125</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">66</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></statement><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.B</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":" ","assets.json":"","miniMenuCursor.ts":"\nnamespace miniMenu {\n    \n    /**\n     * an array of all menu sprites\n     */\n    //% block=\"all menus\"\n    //% blockId=\"menu_cursor_all_menus\"\n    //% group=\"Cursor\"\n    export function allMenus() { // so that I can get the menus even when their sprite type is changed\n        return miniMenu._state().sprites\n    }\n    \n    /**\n     * place inside the Browser Events 'On Mouse Move' block with X and Y dragged inside\n     */\n    //% block=\"update menu position to cursor $x $y\"\n    //% blockId=\"menu_cursor_update_position\"\n    //% group=\"Cursor\"\n    //% weight=5\n    export function updateMenuPosition(x: number, y: number) {\n        for (let menu of allMenus()) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue  \n            if (menu.top - 12 > y || menu.bottom + 12 < y) continue // extra detected space above and below allows for easier scrolling\n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop + menu.yScroll) / 12)\n\n            if (posInMenu > -1 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.constrain(posInMenu, 0, menu.items.length - 1)\n            }\n        }\n    }\n\n    /**\n     * place inside the Browser Events 'On left Mouse Button clicked' block with X and Y dragged inside\n     */\n    //% block=\"click menu with $button at cursor position $x $y\"\n    //% blockId=\"menu_cursor_click_position\"\n    //% group=\"Cursor\"\n    //% weight=4\n    export function clickMenuAtPosition(button: ControllerButton, x: number, y: number) {\n        for (let menu of allMenus()) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n            if (menu.top > y || menu.bottom < y) continue \n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop + menu.yScroll) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = posInMenu\n                pressButton(button)\n            }\n        }\n    }\n\n    //% block=\"scroll menus up\"\n    //% blockId=\"menu_cursor_scroll_up\"\n    //% group=\"Cursor\"\n    //% weight=3\n    export function scrollUp() {\n        for (let menu of allMenus()) {\n            if (!menu.buttonEventsEnabled) continue\n\n            if (menu.selectedIndex > 0) {\n                menu.selectedIndex--\n            }\n        }\n    }\n\n    //% block=\"scroll menus down\"\n    //% blockId=\"menu_cursor_scroll_down\"\n    //% group=\"Cursor\"\n    //% weight=2\n    export function scrollDown() {\n        for (let menu of allMenus()) {\n            if (!menu.buttonEventsEnabled) continue\n\n            if (menu.selectedIndex < menu.items.length - 1) {\n                menu.selectedIndex++\n            }\n        }\n    }\n\n    //% block=\"simulate click of button $button\"\n    //% blockId=\"menu_cursor_simulate_click\"\n    //% group=\"Cursor\"\n    //% weight=0\n    export function pressButton(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button)\n        control.raiseEvent(INTERNAL_KEY_UP, button)\n    }\n}","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMA==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tileGrass2\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"pxt-mini-menu-cursor\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"browser-events\": \"*\",\n        \"arcade-mini-menu\": \"github:riknoll/arcade-mini-menu#v0.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"miniMenuCursor.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1742831194630,"editorVersion":"2.0.40","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"o_]mQ#J@*xnwu7u)%2-$\">Player</variable><variable type=\"KIND_SpriteKind\" id=\",7O,sL@N-f=!Ec8^g|/S\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"RJpP@lrR@$m9XwNP}(e{\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"4_Y9,e0}:z{X%aJyTH]E\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"Od?7((MK-paQTsGfU2MM\">MiniMenu</variable><variable id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</variable><variable id=\"s:$H3o}75{A],R2chD2_\">myMenu</variable><variable id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"551\" y=\"-23\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"37\" y=\"59\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">0</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Works with cursor!</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">114</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1536\" y=\"27\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><field name=\"function_name\">Create sub menu</field><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">Number</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">back</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Sub menu:</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Sub Menu #</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">Number</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">125</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">66</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></statement><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.B</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"549\" y=\"133\"><field name=\"this\">browserEvents.MouseWheel</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><comment pinned=\"true\" h=\"149.4023895263672\" w=\"228.13018798828125\">Apparently 'right click' on Mac (two finger click on track pad) is actually the wheel button.</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-271.52299384703946\",\"~commentOffsetY\":\"-231.22896860664176\"}}</data><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"549\" y=\"291\"><field name=\"this\">browserEvents.MouseRight</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"548\" y=\"450\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onWheel\" x=\"939\" y=\"613\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"><comment pinned=\"true\" h=\"132.50277709960938\" w=\"175.03887939453125\">Switch these around to change the scroll direction!</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-286.155988873743\",\"~commentOffsetY\":\"10.168723315237344\"}}</data></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-279.45135202797474\",\"~commentOffsetY\":\"-143.9953212027483\"}}</data></block></statement></block></statement></block></statement></block></xml>","main.ts":"","README.md":" ","assets.json":"","miniMenuCursor.ts":"\nnamespace miniMenu {\n    \n    /**\n     * an array of all menu sprites\n     */\n    //% block=\"all menus\"\n    //% blockId=\"menu_cursor_all_menus\"\n    //% group=\"Cursor\"\n    export function allMenus() { // so that I can get the menus even when their sprite type is changed\n        return miniMenu._state().sprites\n    }\n    \n    /**\n     * place inside the Browser Events 'On Mouse Move' block with X and Y dragged inside\n     */\n    //% block=\"update menu position to cursor $x $y\"\n    //% blockId=\"menu_cursor_update_position\"\n    //% group=\"Cursor\"\n    //% weight=5\n    export function updateMenuPosition(x: number, y: number) {\n        for (let menu of allMenus()) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue  \n            if (menu.top - 12 > y || menu.bottom + 12 < y) continue // extra detected space above and below allows for easier scrolling\n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop + menu.yScroll) / 12)\n\n            if (posInMenu > -1 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.constrain(posInMenu, 0, menu.items.length - 1)\n            }\n        }\n    }\n\n    /**\n     * place inside the Browser Events 'On left Mouse Button clicked' block with X and Y dragged inside\n     */\n    //% block=\"click menu with $button at cursor position $x $y\"\n    //% blockId=\"menu_cursor_click_position\"\n    //% group=\"Cursor\"\n    //% weight=4\n    export function clickMenuAtPosition(button: ControllerButton, x: number, y: number) {\n        for (let menu of allMenus()) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n            if (menu.top > y || menu.bottom < y) continue \n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop + menu.yScroll) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = posInMenu\n                pressButton(button)\n            }\n        }\n    }\n\n    //% block=\"scroll menus up\"\n    //% blockId=\"menu_cursor_scroll_up\"\n    //% group=\"Cursor\"\n    //% weight=3\n    export function scrollUp() {\n        for (let menu of allMenus()) {\n            if (!menu.buttonEventsEnabled) continue\n\n            if (menu.selectedIndex > 0) {\n                menu.selectedIndex--\n            }\n        }\n    }\n\n    //% block=\"scroll menus down\"\n    //% blockId=\"menu_cursor_scroll_down\"\n    //% group=\"Cursor\"\n    //% weight=2\n    export function scrollDown() {\n        for (let menu of allMenus()) {\n            if (!menu.buttonEventsEnabled) continue\n\n            if (menu.selectedIndex < menu.items.length - 1) {\n                menu.selectedIndex++\n            }\n        }\n    }\n\n    //% block=\"simulate click of button $button\"\n    //% blockId=\"menu_cursor_simulate_click\"\n    //% group=\"Cursor\"\n    //% weight=0\n    export function pressButton(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button)\n        control.raiseEvent(INTERNAL_KEY_UP, button)\n    }\n}","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMA==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tileGrass2\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"pxt-mini-menu-cursor\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"browser-events\": \"*\",\n        \"arcade-mini-menu\": \"github:riknoll/arcade-mini-menu#v0.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"miniMenuCursor.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1742837237952,"editorVersion":"2.0.40","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"o_]mQ#J@*xnwu7u)%2-$\">Player</variable><variable type=\"KIND_SpriteKind\" id=\",7O,sL@N-f=!Ec8^g|/S\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"RJpP@lrR@$m9XwNP}(e{\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"4_Y9,e0}:z{X%aJyTH]E\">Enemy</variable><variable type=\"KIND_SpriteKind\" id=\"Od?7((MK-paQTsGfU2MM\">MiniMenu</variable><variable id=\"zF}i)W@LVCN/O$p6W:0w\">mySprite</variable><variable id=\"s:$H3o}75{A],R2chD2_\">myMenu</variable><variable id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</variable></variables><block type=\"browserEvents_mouseButton_onEvent\" x=\"514\" y=\"-82\"><field name=\"this\">browserEvents.MouseLeft</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.A</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"function_definition\" x=\"1379\" y=\"-105\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><field name=\"function_name\">Create sub menu</field><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">Number</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">back</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Sub menu:</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Sub Menu #</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">Number</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">125</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">66</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></statement><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.B</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"mini_menu_sprite_close_menu\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"BKa.h9KnKis~M}wH}.1Q\">menu2</field></block></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"mini_menu_show_menu\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"11\" _input_init=\"true\"></mutation><value name=\"item1\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">0</field></shadow></value></shadow></value><value name=\"item2\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">1</field></shadow></value></shadow></value><value name=\"item3\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value></shadow></value><value name=\"item4\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">3</field></shadow></value></shadow></value><value name=\"item5\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">4</field></shadow></value></shadow></value><value name=\"item6\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">5</field></shadow></value></shadow></value><value name=\"item7\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">6</field></shadow></value></shadow></value><value name=\"item8\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></shadow></value><value name=\"item9\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">8</field></shadow></value></shadow></value><value name=\"item10\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">9</field></shadow></value></shadow></value><value name=\"item11\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">10</field></shadow></value></shadow></value><value name=\"item12\"><shadow type=\"mini_menu_create_menu_item\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">11</field></shadow></value></shadow></value></block></value><next><block type=\"mini_menu_set_menu_title\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"title\"><shadow type=\"text\"><field name=\"TEXT\">Works with cursor!</field></shadow></value><next><block type=\"spritesetsetflag\"><field name=\"flag\">SpriteFlag.RelativeToCamera</field><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"on\"><shadow type=\"toggleOnOff\"><field name=\"on\">true</field></shadow></value><next><block type=\"mini_menu_set_menu_dimensions\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"width\"><shadow type=\"math_number\"><field name=\"NUM\">114</field></shadow></value><value name=\"height\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"spritesetpos\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"x\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><value name=\"y\"><shadow type=\"positionPicker\"><field name=\"index\">63</field></shadow></value><next><block type=\"mini_menu_on_button_pressed\"><field name=\"button\">controller.A</field><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"HANDLER_DRAG_PARAM_selection\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selection</field></block></value><value name=\"HANDLER_DRAG_PARAM_selectedIndex\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">selectedIndex</field></block></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"mini_menu_sprite_set_button_events_enabled\"><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"s:$H3o}75{A],R2chD2_\">myMenu</field></block></value><value name=\"enabled\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Create sub menu\" functionid=\"v7%HR(aMWHf6|Y#kx)JP\"><arg name=\"Number\" id=\"bZKs_Dz9iQSxh/=0NX^I\" type=\"number\"></arg></mutation><value name=\"bZKs_Dz9iQSxh/=0NX^I\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">selectedIndex</field></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"512\" y=\"74\"><field name=\"this\">browserEvents.MouseWheel</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><comment pinned=\"true\" h=\"149\" w=\"228\">Apparently 'right click' on Mac (two finger click on track pad) is actually the wheel button.</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-271.52299384703946\",\"~commentOffsetY\":\"-231.22896860664176\"}}</data><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_mouseButton_onEvent\" x=\"512\" y=\"232\"><field name=\"this\">browserEvents.MouseRight</field><field name=\"event\">browserEvents.MouseButtonEvent.Pressed</field><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_click_position\"><field name=\"button\">ControllerButton.B</field><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onMouseMove\" x=\"511\" y=\"391\"><value name=\"HANDLER_DRAG_PARAM_x\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">x</field></block></value><value name=\"HANDLER_DRAG_PARAM_y\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">y</field></block></value><statement name=\"HANDLER\"><block type=\"menu_cursor_update_position\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">x</field></block></value><value name=\"y\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">y</field></block></value></block></statement></block><block type=\"browserEvents_onWheel\" x=\"902\" y=\"554\"><value name=\"HANDLER_DRAG_PARAM_dx\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dx</field></block></value><value name=\"HANDLER_DRAG_PARAM_dy\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dy</field></block></value><value name=\"HANDLER_DRAG_PARAM_dz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dz</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_up\"><comment pinned=\"true\" h=\"132\" w=\"175\">Switch these around to change the scroll direction!</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-286.155988873743\",\"~commentOffsetY\":\"10.168723315237344\"}}</data></block></statement></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">dy</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO\"><block type=\"menu_cursor_scroll_down\"><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-279.45135202797474\",\"~commentOffsetY\":\"-143.9953212027483\"}}</data></block></statement></block></statement></block></statement></block></xml>","main.ts":"","README.md":" ","assets.json":"","miniMenuCursor.ts":"\nnamespace miniMenu {\n    \n    /**\n     * an array of all menu sprites\n     */\n    //% block=\"all menus\"\n    //% blockId=\"menu_cursor_all_menus\"\n    //% group=\"Cursor\"\n    export function allMenus() { // so that I can get the menus even when their sprite type is changed\n        return miniMenu._state().sprites\n    }\n    \n    /**\n     * place inside the Browser Events 'On Mouse Move' block with X and Y dragged inside\n     */\n    //% block=\"update menu position to cursor $x $y\"\n    //% blockId=\"menu_cursor_update_position\"\n    //% group=\"Cursor\"\n    //% weight=5\n    export function updateMenuPosition(x: number, y: number) {\n        for (let menu of allMenus()) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue  \n            if (menu.top - 12 > y || menu.bottom + 12 < y) continue // extra detected space above and below allows for easier scrolling\n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop + menu.yScroll) / 12)\n\n            if (posInMenu > -1 && posInMenu < menu.items.length) {\n                menu.selectedIndex = Math.constrain(posInMenu, 0, menu.items.length - 1)\n            }\n        }\n    }\n\n    /**\n     * place inside the Browser Events 'On left Mouse Button clicked' block with X and Y dragged inside\n     */\n    //% block=\"click menu with $button at cursor position $x $y\"\n    //% blockId=\"menu_cursor_click_position\"\n    //% group=\"Cursor\"\n    //% weight=4\n    export function clickMenuAtPosition(button: ControllerButton, x: number, y: number) {\n        for (let menu of allMenus()) {\n            if (!menu.buttonEventsEnabled) continue\n            if (menu.left > x || menu.right < x) continue\n            if (menu.top > y || menu.bottom < y) continue \n\n            let menuTop = menu.top\n            if (menu.title) menuTop += 12\n            if (menu.frame) menuTop += menu.frame.height / 3\n            let posInMenu = Math.floor((y - menuTop + menu.yScroll) / 12)\n\n            if (posInMenu >= 0 && posInMenu < menu.items.length) {\n                menu.selectedIndex = posInMenu\n                pressButton(button)\n            }\n        }\n    }\n\n    //% block=\"scroll menus up\"\n    //% blockId=\"menu_cursor_scroll_up\"\n    //% group=\"Cursor\"\n    //% weight=3\n    export function scrollUp() {\n        for (let menu of allMenus()) {\n            if (!menu.buttonEventsEnabled) continue\n\n            if (menu.selectedIndex > 0) {\n                menu.selectedIndex--\n            }\n        }\n    }\n\n    //% block=\"scroll menus down\"\n    //% blockId=\"menu_cursor_scroll_down\"\n    //% group=\"Cursor\"\n    //% weight=2\n    export function scrollDown() {\n        for (let menu of allMenus()) {\n            if (!menu.buttonEventsEnabled) continue\n\n            if (menu.selectedIndex < menu.items.length - 1) {\n                menu.selectedIndex++\n            }\n        }\n    }\n\n    //% block=\"simulate click of button $button\"\n    //% blockId=\"menu_cursor_simulate_click\"\n    //% group=\"Cursor\"\n    //% weight=0\n    export function pressButton(button: ControllerButton) {\n        control.raiseEvent(INTERNAL_KEY_DOWN, button)\n        control.raiseEvent(INTERNAL_KEY_UP, button)\n    }\n}","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMA==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tileGrass2\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"pxt-mini-menu-cursor\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"browser-events\": \"*\",\n        \"arcade-mini-menu\": \"github:riknoll/arcade-mini-menu#v0.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"miniMenuCursor.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}}],"shares":[{"id":"94068-58870-58151-78859","timestamp":1742832031162},{"id":"08956-68915-62010-17021","timestamp":1742832186289}],"lastSaveTime":1742837398369}